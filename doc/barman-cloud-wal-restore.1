.\" Automatically generated by Pandoc 2.10.1
.\"
.TH "BARMAN-CLOUD-WAL-RESTORE" "1" "November 5, 2020" "Barman User manuals" "Version 2.12"
.hy
.SH NAME
.PP
barman-cloud-wal-restore - Restore PostgreSQL WAL files from the Cloud
using \f[C]restore_command\f[R]
.SH SYNOPSIS
.PP
barman-cloud-wal-restore [\f[I]OPTIONS\f[R]] \f[I]SOURCE_URL\f[R]
\f[I]SERVER_NAME\f[R] \f[I]WAL_NAME\f[R] \f[I]WAL_PATH\f[R]
.SH DESCRIPTION
.PP
This script can be used as a \f[C]restore_command\f[R] to download WAL
files previously archived with \f[C]barman-cloud-wal-archive\f[R]
command.
Currently only AWS S3 is supported.
.PP
This script and Barman are administration tools for disaster recovery of
PostgreSQL servers written in Python and maintained by 2ndQuadrant.
.SH POSITIONAL ARGUMENTS
.TP
SOURCE_URL
URL of the cloud source, such as a bucket in AWS S3.
For example: \f[C]s3://BUCKET_NAME/path/to/folder\f[R] (where
\f[C]BUCKET_NAME\f[R] is the bucket you have created in AWS).
.TP
SERVER_NAME
the name of the server as configured in Barman.
.TP
WAL_NAME
the name of the WAL file, equivalent of `%f' keyword (according to
`restore_command').
.TP
WAL_PATH
the value of the `%p' keyword (according to `restore_command').
.SH OPTIONS
.TP
-h, \[en]help
show a help message and exit
.TP
-V, \[en]version
show program\[cq]s version number and exit
.TP
-t, \[en]test
test connectivity to the cloud destination and exit
.TP
-P, \[en]profile
profile name (e.g.\ INI section in AWS credentials file)
.TP
-e ENCRYPT, \[en]encrypt ENCRYPT
enable server-side encryption with the given method for the transfer.
Allowed methods: \f[C]AES256\f[R] and \f[C]aws:kms\f[R].
.TP
\[en]endpoint-url
override the default S3 URL construction mechanism by specifying an
endpoint.
.SH REFERENCES
.PP
For Boto:
.IP \[bu] 2
https://boto3.amazonaws.com/v1/documentation/api/latest/guide/configuration.html
.PP
For AWS:
.IP \[bu] 2
http://docs.aws.amazon.com/cli/latest/userguide/cli-chap-getting-set-up.html
.IP \[bu] 2
http://docs.aws.amazon.com/cli/latest/userguide/cli-chap-getting-started.html.
.SH DEPENDENCIES
.IP \[bu] 2
boto3
.SH EXIT STATUS
.TP
0
Success
.TP
Not zero
Failure
.SH BUGS
.PP
Barman has been extensively tested, and is currently being used in
several production environments.
However, we cannot exclude the presence of bugs.
.PP
Any bug can be reported via the Github issue tracker.
.SH RESOURCES
.IP \[bu] 2
Homepage: <http://www.pgbarman.org/>
.IP \[bu] 2
Documentation: <http://docs.pgbarman.org/>
.IP \[bu] 2
Professional support: <http://www.2ndQuadrant.com/>
.SH COPYING
.PP
Barman is the property of 2ndQuadrant Limited and its code is
distributed under GNU General Public License v3.
.PP
Copyright (C) 2011-2020 2ndQuadrant Ltd - <http://www.2ndQuadrant.com/>.
.SH AUTHORS
2ndQuadrant <http://www.2ndQuadrant.com>.

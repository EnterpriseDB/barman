.\" Automatically generated by Pandoc 2.14.1
.\"
.TH "BARMAN-CLOUD-RESTORE" "1" "November 17, 2021" "Barman User manuals" "Version 2.16"
.hy
.SH NAME
.PP
barman-cloud-restore - Restore a PostgreSQL backup from the Cloud
.SH SYNOPSIS
.PP
barman-cloud-restore [\f[I]OPTIONS\f[R]] \f[I]SOURCE_URL\f[R]
\f[I]SERVER_NAME\f[R] \f[I]BACKUP_ID\f[R] \f[I]RECOVERY_DIR\f[R]
.SH DESCRIPTION
.PP
This script can be used to download a backup previouslymade with
\f[C]barman-cloud-backup\f[R] command.
Currently AWS S3 and Azure Blob Storage are supported.
.PP
This script and Barman are administration tools for disaster recovery of
PostgreSQL servers written in Python and maintained by EnterpriseDB.
.SH POSITIONAL ARGUMENTS
.TP
SOURCE_URL
URL of the cloud source, such as a bucket in AWS S3.
For example: \f[C]s3://BUCKET_NAME/path/to/folder\f[R] (where
\f[C]BUCKET_NAME\f[R] is the bucket you have created in AWS).
.TP
SERVER_NAME
the name of the server as configured in Barman.
.TP
BACKUP_ID
the ID of the backup to restore
.TP
RECOVERY_DIR
the path to a local directory for recovery (used as PGDATA).
.SH OPTIONS
.TP
-h, \[en]help
show a help message and exit
.TP
-V, \[en]version
show program\[cq]s version number and exit
.TP
-v, \[en]verbose
increase output verbosity (e.g., -vv is more than -v)
.TP
-q, \[en]quiet
decrease output verbosity (e.g., -qq is less than -q)
.TP
-t, \[en]test
test connectivity to the cloud destination and exit
.TP
\[en]tablespace NAME:LOCATION
extract the named tablespace to the given directory instead of its
original location (you may repeat the option for multiple tablespaces)
.TP
\[en]cloud-provider {aws-s3,azure-blob-storage}
the cloud provider to which the backup should be uploaded
.TP
-P, \[en]profile
profile name (e.g.\ INI section in AWS credentials file)
.TP
\[en]endpoint-url
override the default S3 URL construction mechanism by specifying an
endpoint.
.SH REFERENCES
.PP
For Boto:
.IP \[bu] 2
https://boto3.amazonaws.com/v1/documentation/api/latest/guide/configuration.html
.PP
For AWS:
.IP \[bu] 2
http://docs.aws.amazon.com/cli/latest/userguide/cli-chap-getting-set-up.html
.IP \[bu] 2
http://docs.aws.amazon.com/cli/latest/userguide/cli-chap-getting-started.html.
.PP
For Azure Blob Storage:
.IP \[bu] 2
https://docs.microsoft.com/en-us/azure/storage/blobs/authorize-data-operations-cli#set-environment-variables-for-authorization-parameters
.IP \[bu] 2
https://docs.microsoft.com/en-us/python/api/azure-storage-blob/?view=azure-python
.SH DEPENDENCIES
.PP
If using \f[C]--cloud-provider=aws-s3\f[R]:
.IP \[bu] 2
boto3
.PP
If using \f[C]--cloud-provider=azure-blob-storage\f[R]:
.IP \[bu] 2
azure-storage-blob
.IP \[bu] 2
azure-identity (optional, if you wish to use DefaultAzureCredential)
.SH EXIT STATUS
.TP
0
Success
.TP
Not zero
Failure
.SH BUGS
.PP
Barman has been extensively tested, and is currently being used in
several production environments.
However, we cannot exclude the presence of bugs.
.PP
Any bug can be reported via the Github issue tracker.
.SH RESOURCES
.IP \[bu] 2
Homepage: <http://www.pgbarman.org/>
.IP \[bu] 2
Documentation: <http://docs.pgbarman.org/>
.IP \[bu] 2
Professional support: <http://www.enterprisedb.com/>
.SH COPYING
.PP
Barman is the property of EnterpriseDB UK Limited and its code is
distributed under GNU General Public License v3.
.PP
\[co] Copyright EnterpriseDB UK Limited 2011-2021
.SH AUTHORS
EnterpriseDB <http://www.enterprisedb.com>.

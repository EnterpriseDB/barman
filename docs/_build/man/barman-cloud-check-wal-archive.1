.\" Man page generated from reStructuredText.
.
.
.nr rst2man-indent-level 0
.
.de1 rstReportMargin
\\$1 \\n[an-margin]
level \\n[rst2man-indent-level]
level margin: \\n[rst2man-indent\\n[rst2man-indent-level]]
-
\\n[rst2man-indent0]
\\n[rst2man-indent1]
\\n[rst2man-indent2]
..
.de1 INDENT
.\" .rstReportMargin pre:
. RS \\$1
. nr rst2man-indent\\n[rst2man-indent-level] \\n[an-margin]
. nr rst2man-indent-level +1
.\" .rstReportMargin post:
..
.de UNINDENT
. RE
.\" indent \\n[an-margin]
.\" old: \\n[rst2man-indent\\n[rst2man-indent-level]]
.nr rst2man-indent-level -1
.\" new: \\n[rst2man-indent\\n[rst2man-indent-level]]
.in \\n[rst2man-indent\\n[rst2man-indent-level]]u
..
.TH "BARMAN-CLOUD-CHECK-WAL-ARCHIVE" "1" "May 15, 2024" "3.14" "Barman"
.SH NAME
barman-cloud-check-wal-archive \- Barman-cloud Commands
.sp
\fBSynopsis\fP
.INDENT 0.0
.INDENT 3.5
.sp
.EX
barman\-cloud\-check\-wal\-archive
                [ { \-V | \-\-version } ]
                [ \-\-help ]
                [ { { \-v | \-\-verbose } | { \-q | \-\-quiet } } ]
                [ { \-t | \-\-test } ]
                [ \-\-cloud\-provider { aws\-s3 | azure\-blob\-storage | google\-cloud\-storage } ]
                [ \-\-endpoint\-url ENDPOINT_URL ]
                [ { \-P | \-\-aws\-profile } AWS_PROFILE ]
                [ \-\-profile AWS_PROFILE ]
                [ \-\-read\-timeout READ_TIMEOUT ]
                [ { \-\-azure\-credential | \-\-credential }
                  { azure\-cli | managed\-identity | default } ]
                [ \-\-timeline TIMELINE ]
                DESTINATION_URL SERVER_NAME
.EE
.UNINDENT
.UNINDENT
.sp
\fBDescription\fP
.sp
Verify that the WAL archive destination for a server is suitable for use with a new
Postgres cluster. By default, the check will succeed if the WAL archive is empty or if
the target bucket is not found. Any other conditions will result in a failure.
.sp
\fBNOTE:\fP
.INDENT 0.0
.INDENT 3.5
For GCP, only authentication with \fBGOOGLE_APPLICATION_CREDENTIALS\fP env is supported.
.UNINDENT
.UNINDENT
.sp
\fBParameters\fP
.INDENT 0.0
.TP
.B \fBSERVER_NAME\fP
Name of the server that needs to be checked.
.TP
.B \fBDESTINATION_URL\fP
URL of the cloud destination, such as a bucket in AWS S3. For example: \fBs3://bucket/path/to/folder\fP\&.
.TP
.B \fB\-V\fP / \fB\-\-version\fP
Show version and exit.
.TP
.B \fB\-\-help\fP
show this help message and exit.
.TP
.B \fB\-v\fP / \fB\-\-verbose\fP
Increase output verbosity (e.g., \fB\-vv\fP is more than \fB\-v\fP).
.TP
.B \fB\-q\fP / \fB\-\-quiet\fP
Decrease output verbosity (e.g., \fB\-qq\fP is less than \fB\-q\fP).
.TP
.B \fB\-t\fP / \fB\-\-test\fP
Test cloud connectivity and exit.
.TP
.B \fB\-\-cloud\-provider\fP
The cloud provider to use as a storage backend.
.sp
Allowed options are:
.INDENT 7.0
.IP \(bu 2
\fBaws\-s3\fP\&.
.IP \(bu 2
\fBazure\-blob\-storage\fP\&.
.IP \(bu 2
\fBgoogle\-cloud\-storage\fP\&.
.UNINDENT
.TP
.B \fB\-\-timeline\fP
The earliest timeline whose WALs should cause the check to fail.
.UNINDENT
.sp
\fBExtra options for the AWS cloud provider\fP
.INDENT 0.0
.TP
.B \fB\-\-endpoint\-url\fP
Override default S3 endpoint URL with the given one.
.TP
.B \fB\-P\fP / \fB\-\-aws\-profile\fP
Profile name (e.g. \fBINI\fP section in AWS credentials file).
.TP
.B \fB\-\-profile\fP (deprecated)
Profile name (e.g. \fBINI\fP section in AWS credentials file) \- replaced by
\fB\-\-aws\-profile\fP\&.
.TP
.B \fB\-\-read\-timeout\fP
The time in seconds until a timeout is raised when waiting to read from a connection
(defaults to \fB60\fP seconds).
.UNINDENT
.sp
\fBExtra options for the Azure cloud provider\fP
.INDENT 0.0
.TP
.B \fB\-\-azure\-credential / \-\-credential\fP
Optionally specify the type of credential to use when authenticating with Azure. If
omitted then Azure Blob Storage credentials will be obtained from the environment and
the default Azure authentication flow will be used for authenticating with all other
Azure services. If no credentials can be found in the environment then the default
Azure authentication flow will also be used for Azure Blob Storage.
.sp
Allowed options are:
.INDENT 7.0
.IP \(bu 2
\fBazure\-cli\fP\&.
.IP \(bu 2
\fBmanaged\-identity\fP\&.
.IP \(bu 2
\fBdefault\fP\&.
.UNINDENT
.UNINDENT
.SH AUTHOR
EnterpriseDB
.SH COPYRIGHT
Â© Copyright EnterpriseDB UK Limited 2011-2025
.\" Generated by docutils manpage writer.
.

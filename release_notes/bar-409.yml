- summary: |
    Fix check server returns wrong results for Replication Slot
  description: |
    Previously, Barman would incorrectly use `conninfo` (pointing to a standby server)
    for replication checks, leading to errors such as:

    `replication slot (WAL streaming): FAILED (replication slot 'barman' doesn't exist.
    Please execute 'barman receive-wal --create-slot pg17')`

    This fixes the issue from github
    [#1024](https://github.com/EnterpriseDB/barman/issues/1024) by ensuring
    `wal_conninfo` is used for WAL replication checks if set.

    `wal_conninfo` takes precedence over `wal_streaming_conninfo`, when both are set.
    With this change, if only `wal_conninfo` is set, is will be used and will not fall
    back to `conninfo`.

    Also, in the documentation, changes were made so it is explicit that when `conninfo`
    points to a standby server, `wal_conninfo` must be set and used for accurate
    replication status checks.
  type: bugfix
  jira_tickets:
    - BAR-409
